{"version":3,"file":"angular-ga.umd.js","sources":["~/angular-ga/src/lib/ga.module.ts","~/angular-ga/src/lib/ga.service.ts","~/angular-ga/src/lib/ga.token.ts"],"sourcesContent":["import {NgModule, ModuleWithProviders} from '@angular/core';\n\nimport {GoogleAnalyticsService} from './ga.service';\nexport class GoogleAnalyticsModule {\n/**\n * @return {?}\n */\nstatic forRoot(): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: GoogleAnalyticsModule,\n\t\t\tproviders: [\n\t\t\t\tGoogleAnalyticsService\n\t\t\t]\n\t\t};\n\t}\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n\timports: [],\n\tdeclarations: [],\n\texports: []\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction GoogleAnalyticsModule_tsickle_Closure_declarations() {\n/** @type {?} */\nGoogleAnalyticsModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGoogleAnalyticsModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Injectable, Inject, Optional, EventEmitter} from '@angular/core';\n\nimport {GA_TOKEN, GA_OPTIONS} from './ga.token';\nimport {Event} from './interfaces/event';\nimport {PageView} from './interfaces/pageview';\nimport {TrackingOptions} from './interfaces/tracking-options';\n\ndeclare const ga: any;\nexport class GoogleAnalyticsService {\n\tevent = new EventEmitter<Event>();\n\tpageview = new EventEmitter<PageView>();\n/**\n * @param {?} trackingId\n * @param {?} options\n */\nconstructor(\n\t\t  trackingId: string,\n\t\t  options: any\n\t) {\n\t\tif (trackingId) {\n\t\t\tthis.configure(trackingId, options);\n\t\t}\n\t}\n/**\n * @param {?} trackingId\n * @param {?=} options\n * @return {?}\n */\nconfigure(trackingId: string, options: TrackingOptions | string = 'auto') {\n\t\tga('create', trackingId, options);\n\t\tga('send', 'pageview');\n\n\t\tthis.event.subscribe((x: Event) => this.onEvent(x));\n\t\tthis.pageview.subscribe((x: PageView) => this.onPageView(x));\n\t}\n\n\tset(fieldsObject: any): void;\n\tset(fieldName: string, fieldValue: any): void;\n/**\n * @param {?} key\n * @param {?=} value\n * @return {?}\n */\nset(key: any, value?: any) {\n\t\tif (typeof key !== 'string' && typeof key !== 'object') {\n\t\t\tthrow new TypeError(`Expected \\`fieldName\\` to be of type \\`string\\` or \\`object\\`, got \\`${typeof key}\\``);\n\t\t}\n\n\t\tif (typeof key === 'string' && value === undefined) {\n\t\t\tthrow new TypeError('Expected `fieldValue` to not be `undefined`');\n\t\t}\n\n\t\tif (typeof key === 'object') {\n\t\t\tga('set', key);\n\t\t} else {\n\t\t\tga('set', key, value);\n\t\t}\n\t}\n/**\n * @param {?} event\n * @return {?}\n */\nprivate onEvent(event: Event) {\n\t\tga('send', 'event', event.category, event.action, event.label, event.value);\n\t}\n/**\n * @param {?} pageview\n * @return {?}\n */\nprivate onPageView(pageview: PageView) {\n\t\tconst /** @type {?} */ fieldsObject: any = {};\n\n\t\tif (pageview.title) {\n\t\t\tfieldsObject.title = pageview.title;\n\t\t}\n\n\t\tga('send', 'pageview', pageview.page, fieldsObject);\n\t}\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [GA_TOKEN, ] }, ]},\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [GA_OPTIONS, ] }, ]},\n];\n}\n\nfunction GoogleAnalyticsService_tsickle_Closure_declarations() {\n/** @type {?} */\nGoogleAnalyticsService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGoogleAnalyticsService.ctorParameters;\n/** @type {?} */\nGoogleAnalyticsService.prototype.event;\n/** @type {?} */\nGoogleAnalyticsService.prototype.pageview;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {InjectionToken} from '@angular/core';\n\nexport const /** @type {?} */ GA_TOKEN = new InjectionToken('angular-ga TrackingId');\nexport const /** @type {?} */ GA_OPTIONS = new InjectionToken('angular-ga Tracking Options');\n"],"names":["NgModule","Optional","Inject","Injectable","EventEmitter","InjectionToken"],"mappings":"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"}
